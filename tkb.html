<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thời Khóa Biểu</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(-45deg, #00c6ff, #0072ff, #ff758c, #ff7eb3);
            background-size: 400% 400%;
            animation: gradientAnimation 10s ease infinite;
            min-height: 100vh;
        }

        .sidebar {
            position: fixed;
            left: -250px;
            width: 250px;
            height: 100%;
            background: rgba(0, 0, 0, 0.2);
            transition: all .5s ease;
        }

        .sidebar header {
            font-size: 22px;
            color: white;
            line-height: 70px;
            text-align: center;
            background: rgba(255, 255, 255, 0.2);
            user-select: none;
            font-weight: bold;
        }

        .sidebar ul a {
            display: block;
            height: 100%;
            width: 100%;
            line-height: 65px;
            font-size: 18px;
            color: white;
            padding-left: 40px;
            box-sizing: border-box;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: .4s;
            cursor: pointer;
        }

        .sidebar ul a i {
            margin-right: 16px;
        }

        .timetable-container {
            margin-left: 20px;
            padding: 20px;
            transition: all .5s;
            display: none;
        }

        #check:checked ~ .timetable-container {
            margin-left: 270px;
        }

        .timetable {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            margin-top: 60px;
        }

        .timetable table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .timetable th, .timetable td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
        }

        .timetable th {
            background: linear-gradient(to right, #0072ff, #00c6ff);
            color: white;
        }

        .attendance-btn {
            background: linear-gradient(to right, #0072ff, #00c6ff);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .attendance-btn:hover {
            background: linear-gradient(to right, #0052d4, #4364f7);
            transform: translateY(-2px);
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 20px;
            border-radius: 15px;
            width: 80%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: black;
        }

        .student-list {
            margin-top: 20px;
        }

        .student-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }

        .student-info {
            flex-grow: 1;
            width: 40%;
        }

        .attendance-options {
            display: flex;
            justify-content: space-between;
            width: 60%;
        }

        .attendance-option {
            display: flex;
            align-items: center;
            margin-right: 15px;
        }

        .attendance-option input[type="radio"] {
            margin-right: 5px;
            cursor: pointer;
        }

        .attendance-option label {
            cursor: pointer;
        }

        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        label #btn, label #cancel {
            position: fixed;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
            cursor: pointer;
        }

        label #btn {
            left: 40px;
            top: 25px;
            font-size: 35px;
            color: white;
            padding: 6px 12px;
            transition: all .5s;
        }

        label #cancel {
            z-index: 1111;
            left: -195px;
            top: 17px;
            font-size: 30px;
            color: white;
            padding: 4px 9px;
            transition: all .5s ease;
        }

        #check {
            display: none;
        }

        #check:checked ~ .sidebar {
            left: 0;
        }

        #check:checked ~ label #btn {
            left: 250px;
            opacity: 0;
            pointer-events: none;
        }

        #check:checked ~ label #cancel {
            left: 195px;
        }

        .welcome-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            opacity: 0;
            animation: fadeIn 1s ease forwards;
        }

        .welcome-message h1 {
            font-size: 2em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .auto-attendance-container {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .auto-attendance-btn {
            color: white;
            border: none;
            padding: 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
            text-align: center;
        }
        
        .btn-present {
            background: linear-gradient(to right, #00b09b, #96c93d);
        }
        
        .btn-present:hover {
            background: linear-gradient(to right, #96c93d, #00b09b);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(150, 201, 61, 0.3);
        }
        
        .btn-excused {
            background: linear-gradient(to right, #ffb347, #ffcc33);
        }
        
        .btn-excused:hover {
            background: linear-gradient(to right, #ffcc33, #ffb347);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 204, 51, 0.3);
        }
        
        .btn-absent {
            background: linear-gradient(to right, #ff416c, #ff4b2b);
        }
        
        .btn-absent:hover {
            background: linear-gradient(to right, #ff4b2b, #ff416c);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 65, 108, 0.3);
        }

        /* Student list table styles */
        .student-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .student-table th, .student-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        .student-table th {
            background-color: #f2f2f2;
        }

        .attendance-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding: 10px;
            background-color: #f5f5f5;
            border-radius: 5px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
        }

        .stat-label {
            font-size: 14px;
            color: #666;
        }
        .btn-auto {
            background: linear-gradient(to right, #8e2de2, #4a00e0);
        }
        
        .btn-auto:hover {
            background: linear-gradient(to right, #4a00e0, #8e2de2);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(138, 45, 226, 0.3);
        }

        /* Contact form container */
        .contact-container {
            margin-left: 20px;
            padding: 20px;
            transition: all .5s;
            display: none;
        }

        #check:checked ~ .contact-container {
            margin-left: 270px;
        }

        .contact-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            margin-top: 60px;
        }

        .contact-title {
            margin-bottom: 20px;
            color: #333;
            text-align: center;
        }

        .contact-form {
            margin-bottom: 40px;
        }

        .contact-form .form-group {
            margin-bottom: 15px;
        }

        .contact-form label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }

        .contact-form input, .contact-form textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .contact-form input:focus, .contact-form textarea:focus {
            border-color: #0072ff;
            outline: none;
        }

        .contact-form textarea {
            height: 100px;
            resize: vertical;
        }

        .contact-form button {
            background: linear-gradient(to right, #0072ff, #00c6ff);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: block;
            margin: 20px auto 0;
        }

        .contact-form button:hover {
            background: linear-gradient(to right, #0052d4, #4364f7);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 114, 255, 0.3);
        }

        .contacts-list {
            margin-top: 30px;
        }

        .contact-list-title {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
            color: #333;
        }

        .contact-card {
            background: #f9f9f9;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .contact-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .contact-card h4 {
            margin-bottom: 5px;
            color: #0072ff;
        }

        .contact-card p {
            margin: 5px 0;
            color: #666;
        }

        .contact-card .contact-info {
            display: flex;
            align-items: center;
        }

        .contact-card .contact-info i {
            margin-right: 8px;
            color: #0072ff;
        }
        .about-container {
        margin-left: 20px;
        padding: 20px;
        transition: all .5s;
        display: none;
    }

    #check:checked ~ .about-container {
        margin-left: 270px;
    }

    .about-content {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        margin-top: 60px;
        animation: fadeIn 0.5s ease;
    }

    .about-title {
        text-align: center;
        margin-bottom: 30px;
        color: #333;
        position: relative;
        padding-bottom: 15px;
    }

    .about-title:after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 3px;
        background: linear-gradient(to right, #0072ff, #00c6ff);
    }

    .about-text {
        margin-bottom: 40px;
        line-height: 1.8;
        color: #555;
    }

    .about-text p {
        margin-bottom: 15px;
    }

    .about-features {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        margin-top: 30px;
    }

    .feature-item {
        flex-basis: calc(33.333% - 20px);
        background: #f9f9f9;
        padding: 25px;
        border-radius: 10px;
        text-align: center;
        transition: all 0.3s ease;
        margin-bottom: 20px;
    }

    .feature-item:hover {
        transform: translateY(-10px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }

    .feature-item i {
        font-size: 40px;
        color: #0072ff;
        margin-bottom: 15px;
    }

    .feature-item h3 {
        margin-bottom: 15px;
        color: #333;
    }

    .feature-item p {
        color: #666;
        line-height: 1.6;
    }

    @media (max-width: 768px) {
        .feature-item {
            flex-basis: calc(50% - 15px);
        }
    }

    @media (max-width: 576px) {
        .feature-item {
            flex-basis: 100%;
        }
    }
    .about-container {
    margin-left: 20px;
    padding: 20px;
    transition: all .5s;
    display: none;
}

#check:checked ~ .about-container {
    margin-left: 270px;
}

.about-content {
    background: white;
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    margin-top: 60px;
    animation: fadeIn 0.5s ease;
}

.about-title {
    text-align: center;
    margin-bottom: 30px;
    color: #333;
    position: relative;
    padding-bottom: 15px;
}

.about-title:after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 3px;
    background: linear-gradient(to right, #0072ff, #00c6ff);
}

.about-text {
    margin-bottom: 40px;
    line-height: 1.8;
    color: #555;
}

.about-text p {
    margin-bottom: 15px;
}

.about-features {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    margin-top: 30px;
}

.feature-item {
    flex-basis: calc(33.333% - 20px);
    background: #f9f9f9;
    padding: 25px;
    border-radius: 10px;
    text-align: center;
    transition: all 0.3s ease;
    margin-bottom: 20px;
}

.feature-item:hover {
    transform: translateY(-10px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}

.feature-item i {
    font-size: 40px;
    color: #0072ff;
    margin-bottom: 15px;
}

.feature-item h3 {
    margin-bottom: 15px;
    color: #333;
}

.feature-item p {
    color: #666;
    line-height: 1.6;
}

@media (max-width: 768px) {
    .feature-item {
        flex-basis: calc(50% - 15px);
    }
}

@media (max-width: 576px) {
    .feature-item {
        flex-basis: 100%;
    }
        /* Thêm vào phần style hiện có */
        .beta-ai-container {
        margin-left: 20px;
        padding: 20px;
        transition: all .5s;
        display: none;
    }

    #check:checked ~ .beta-ai-container {
        margin-left: 270px;
    }

    .beta-ai-content {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        margin-top: 60px;
        min-height: 500px; /* Đảm bảo container có kích thước nhất định */
    }
}
    </style>
</head>
<body>
    <input type="checkbox" id="check">
    <label for="check">
        <i class="fas fa-bars" id="btn"></i>
        <i class="fas fa-times" id="cancel"></i>
    </label>
    <div class="sidebar">
        <header>My App</header>
        <ul>
            <li><a href="#" onclick="showWelcome()"><i class="fa fa-home"></i>Overview</a></li>
            <li><a href="#" onclick="showTimetable()"><i class="fa fa-calendar"></i>Time Table</a></li>
            <li><a href="#" onclick="showBetaAi()"><i class="fas fa-camera"></i> Beta Ai </a></li>
            <li><a href="#" onclick="showContact()"><i class="far fa-envelope"></i>Contact</a></li>
            <li><a href="#" onclick="showAbout()"><i class="far fa-question-circle"></i>About</a></li>
            <li><a href="login.html"><i class="fa fa-sign-in-alt"></i>Log out</a></li>
        </ul>
    </div>

    <div class="welcome-message" id="welcomeMessage">
        <h1>Welcome to Student Portal</h1>
        <p>Click on Time Table to view your schedule</p>
    </div>

    <div class="timetable-container" id="timetableContainer">
        <div class="timetable">
            <h2>Thời Khóa Biểu</h2>
            <table>
                <tr>
                    <th>Thời gian</th>
                    <th>Thứ 2</th>
                    <th>Thứ 3</th>
                    <th>Thứ 4</th>
                    <th>Thứ 5</th>
                    <th>Thứ 6</th>
                    <th>Thứ 7</th>
                </tr>
                <tr>
                    <td>7:30 - 9:30</td>
                    <td>Toán cao cấp<br><button class="attendance-btn" onclick="openAttendanceModal('Toán cao cấp')">Điểm danh</button></td>
                    <td>Lập trình C++<br><button class="attendance-btn" onclick="openAttendanceModal('Lập trình C++')">Điểm danh</button></td>
                    <td>Tiếng Anh<br><button class="attendance-btn" onclick="openAttendanceModal('Tiếng Anh')">Điểm danh</button></td>
                    <td>Vật lý<br><button class="attendance-btn" onclick="openAttendanceModal('Vật lý')">Điểm danh</button></td>
                    <td>GDTC<br><button class="attendance-btn" onclick="openAttendanceModal('GDTC')">Điểm danh</button></td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>9:45 - 11:45</td>
                    <td>Triết học<br><button class="attendance-btn" onclick="openAttendanceModal('Triết học')">Điểm danh</button></td>
                    <td>-</td>
                    <td>Toán rời rạc<br><button class="attendance-btn" onclick="openAttendanceModal('Toán rời rạc')">Điểm danh</button></td>
                    <td>Lập trình Web<br><button class="attendance-btn" onclick="openAttendanceModal('Lập trình Web')">Điểm danh</button></td>
                    <td>-</td>
                    <td>AI<br><button class="attendance-btn" onclick="openAttendanceModal('AI')">Điểm danh</button></td>
                </tr>
                <tr>
                    <td>13:30 - 15:30</td>
                    <td>-</td>
                    <td>CSDL<br><button class="attendance-btn" onclick="openAttendanceModal('CSDL')">Điểm danh</button></td>
                    <td>-</td>
                    <td>Python<br><button class="attendance-btn" onclick="openAttendanceModal('Python')">Điểm danh</button></td>
                    <td>Java<br><button class="attendance-btn" onclick="openAttendanceModal('Java')">Điểm danh</button></td>
                    <td>-</td>
                </tr>
            </table>
        </div>
    </div>
    <div class="about-container" id="aboutContainer">
        <div class="about-content">
            <h2 class="about-title">Về Chúng Tôi</h2>
            
            <div class="about-text">
                <p>Việc tích hợp AI vào camera để điểm danh là một giải pháp hiện đại, giúp tự động hóa quy trình quản lý nhân sự, học sinh, sinh viên một cách nhanh chóng và chính xác. Công nghệ này sử dụng nhận diện khuôn mặt kết hợp với học máy để xác định danh tính, giảm thiểu gian lận và tăng cường bảo mật.</p>
                
                <p>Hệ thống có thể áp dụng trong giáo dục, doanh nghiệp và an ninh, mang lại hiệu quả cao. Tuy nhiên, nó cũng đối mặt với thách thức về chi phí, độ chính xác trong điều kiện môi trường khác nhau và bảo vệ dữ liệu cá nhân.</p>
            </div>
            
            <div class="about-features">
                <div class="feature-item">
                    <i class="fas fa-camera"></i>
                    <h3>Nhận Diện Khuôn Mặt</h3>
                    <p>Công nghệ AI hiện đại nhận diện và xác thực danh tính người dùng với độ chính xác cao.</p>
                </div>
                
                <div class="feature-item">
                    <i class="fas fa-shield-alt"></i>
                    <h3>Bảo Mật Cao</h3>
                    <p>Hệ thống đảm bảo an toàn dữ liệu cá nhân và giảm thiểu gian lận trong quá trình điểm danh.</p>
                </div>
                
                <div class="feature-item">
                    <i class="fas fa-tachometer-alt"></i>
                    <h3>Hiệu Quả</h3>
                    <p>Tự động hóa quy trình quản lý, tiết kiệm thời gian và nguồn lực so với phương pháp truyền thống.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="beta-ai-container" id="betaAiContainer">
        <div class="beta-ai-content">
            <!-- Đây là phần trắng tinh, không có nội dung -->
        </div>
    </div>
    
    <!-- Contact Container -->
    <div class="contact-container" id="contactContainer">
        <div class="contact-content">
            <h2 class="contact-title">Liên Hệ Với Chúng Tôi</h2>

            <!-- Contact Form -->
            <div class="contact-form">
                <form id="contactForm">
                    <div class="form-group">
                        <label for="name">Họ và tên</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Số điện thoại</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Nội dung tin nhắn</label>
                        <textarea id="message" name="message" required></textarea>
                    </div>
                    <button type="submit" onclick="submitMessage()">Gửi tin nhắn</button>
                </form>
            </div>

            <!-- Contact List -->
            <div class="contacts-list">
                <h3 class="contact-list-title">Danh sách liên hệ</h3>
                <div class="contact-card">
                    <h4>Hà Khánh </h4>
                    <p class="contact-info"><i class="fas fa-phone"></i>0775112005 </p>
                    <p class="contact-info"><i class="fas fa-envelope"></i>hakhanh699669@gmail.com </p>
                </div>
                <div class="contact-card">
                    <h4>Phùng Văn Linh </h4>
                    <p class="contact-info"><i class="fas fa-phone"></i>0347614676 </p>
                    <p class="contact-info"><i class="fas fa-envelope"></i>linhp3553@gmail.com </p>
                </div>
                <div class="contact-card">
                    <h4>Phạm Gia Bảo </h4>
                    <p class="contact-info"><i class="fas fa-phone"></i>0965952822 </p>
                    <p class="contact-info"><i class="fas fa-envelope"></i>BaoPham0906091@gmail.com </p>
                </div>
                <div class="contact-card">
                    <h4>Đinh Quốc Việt </h4>
                    <p class="contact-info"><i class="fas fa-phone"></i>0337565155</p>
                    <p class="contact-info"><i class="fas fa-envelope"></i>dinhquocviet0411@gmail.com </p>
                </div>
                <div class="contact-card">
                    <h4>Lê Tuấn Linh </h4>
                    <p class="contact-info"><i class="fas fa-phone"></i>0335514047</p>
                    <p class="contact-info"><i class="fas fa-envelope"></i>gsreddevil119@gmail.com</p>
                </div>
            </div>
        </div>
    </div>

 
    <!-- Modal for attendance -->
    <div id="attendanceModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAttendanceModal()">&times;</span>
            <h2 id="modalTitle">Điểm danh môn: <span id="subjectName"></span></h2>
            
            <div class="auto-attendance-container">
                <button class="auto-attendance-btn btn-auto" onclick="redirectToBetaAi()">
                    Điểm danh tự động
                </button>
                <button class="auto-attendance-btn btn-present" onclick="autoAttendanceAll(2)">
                    Tất cả có mặt
                </button>
                <button class="auto-attendance-btn btn-excused" onclick="autoAttendanceAll(1)">
                    Tất cả vắng có phép
                </button>
                <button class="auto-attendance-btn btn-absent" onclick="autoAttendanceAll(0)">
                    Tất cả vắng mặt
                </button>

            </div>
            
            <div class="student-list" id="studentList">
                <table class="student-table">
                    <thead>
                        <tr>
                            <th width="10%">STT</th>
                            <th width="30%">Họ và tên</th>
                            <th width="15%">Mã SV</th>
                            <th width="45%" colspan="3">Trạng thái</th>
                        </tr>
                    </thead>
                    <tbody id="studentTableBody">
                        <!-- Student rows will be added here by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div class="attendance-stats" id="attendanceStats">
                <!-- Stats will be added here by JavaScript -->
            </div>
        </div>
    </div>



         

    <script>
        // Sample student data
        const students = [
        { id: 1, name: "Nguyễn Văn A", studentId: "SV001" },
        { id: 2, name: "Trần Thị B", studentId: "SV002" },
        { id: 3, name: "Lê Văn C", studentId: "SV003" },
        { id: 4, name: "Phạm Thị D", studentId: "SV004" },
        { id: 5, name: "Hoàng Văn E", studentId: "SV005" }
    ];

    // Store attendance data for each subject and date
    // Status values: 0 = absent, 1 = excused absence, 2 = present
    const attendanceData = {};

      // Thêm hàm showBetaAi() vào phần script hiện có
      function showBetaAi() {
        document.getElementById('timetableContainer').style.display = 'none';
        document.getElementById('welcomeMessage').style.display = 'none';
        document.getElementById('contactContainer').style.display = 'none';
        document.getElementById('aboutContainer').style.display = 'none';
        document.getElementById('betaAiContainer').style.display = 'block';
    }
    
    // Cập nhật các hàm hiện có để ẩn container mới
    function showTimetable() {
        document.getElementById('timetableContainer').style.display = 'block';
        document.getElementById('welcomeMessage').style.display = 'none';
        document.getElementById('contactContainer').style.display = 'none';
        document.getElementById('aboutContainer').style.display = 'none';
        document.getElementById('betaAiContainer').style.display = 'none';
    }

    function showWelcome() {
        document.getElementById('timetableContainer').style.display = 'none';
        document.getElementById('welcomeMessage').style.display = 'block';
        document.getElementById('contactContainer').style.display = 'none';
        document.getElementById('aboutContainer').style.display = 'none';
        document.getElementById('betaAiContainer').style.display = 'none';
    }

    function showContact() {
        document.getElementById('timetableContainer').style.display = 'none';
        document.getElementById('welcomeMessage').style.display = 'none';
        document.getElementById('contactContainer').style.display = 'block';
        document.getElementById('aboutContainer').style.display = 'none';
        document.getElementById('betaAiContainer').style.display = 'none';
    }

    function showAbout() {
        document.getElementById('timetableContainer').style.display = 'none';
        document.getElementById('welcomeMessage').style.display = 'none';
        document.getElementById('contactContainer').style.display = 'none';
        document.getElementById('aboutContainer').style.display = 'block';
        document.getElementById('betaAiContainer').style.display = 'none';
    }


        function getCurrentDate() {
            const now = new Date();
            return `${now.getFullYear()}-${(now.getMonth() + 1).toString().padStart(2, '0')}-${now.getDate().toString().padStart(2, '0')}`;
        }

        function openAttendanceModal(subject) {
            const modal = document.getElementById('attendanceModal');
            const subjectNameSpan = document.getElementById('subjectName');
            const studentTableBody = document.getElementById('studentTableBody');
            const currentDate = getCurrentDate();
            
            subjectNameSpan.textContent = `${subject} - ${currentDate}`;
            studentTableBody.innerHTML = '';

            // Initialize attendance data structure
            if (!attendanceData[subject]) {
                attendanceData[subject] = {};
            }
            if (!attendanceData[subject][currentDate]) {
                attendanceData[subject][currentDate] = {};
            }

            // Generate student table rows with attendance options
            students.forEach((student, index) => {
                // Get current status or default to null (not marked)
                const currentStatus = attendanceData[subject][currentDate][student.id] !== undefined 
                    ? attendanceData[subject][currentDate][student.id] 
                    : null;
                
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${student.name}</td>
                    <td>${student.studentId}</td>
                    <td>
                        <div class="attendance-option">
                            <input type="radio" name="attendance_${student.id}" id="absent_${student.id}" 
                                value="0" ${currentStatus === 0 ? 'checked' : ''} 
                                onchange="markAttendance('${subject}', ${student.id}, 0)">
                            <label for="absent_${student.id}">Vắng mặt</label>
                        </div>
                    </td>
                    <td>
                        <div class="attendance-option">
                            <input type="radio" name="attendance_${student.id}" id="excused_${student.id}" 
                                value="1" ${currentStatus === 1 ? 'checked' : ''} 
                                onchange="markAttendance('${subject}', ${student.id}, 1)">
                            <label for="excused_${student.id}">Vắng mặt có phép</label>
                        </div>
                    </td>
                    <td>
                        <div class="attendance-option">
                            <input type="radio" name="attendance_${student.id}" id="present_${student.id}" 
                                value="2" ${currentStatus === 2 ? 'checked' : ''} 
                                onchange="markAttendance('${subject}', ${student.id}, 2)">
                            <label for="present_${student.id}">Có mặt</label>
                        </div>
                    </td>
                `;
                
                studentTableBody.appendChild(row);
            });

            updateAttendanceStats(subject);
            modal.style.display = 'block';
        }

        function closeAttendanceModal() {
            document.getElementById('attendanceModal').style.display = 'none';
        }

        function markAttendance(subject, studentId, status) {
            const currentDate = getCurrentDate();

            // Initialize data structures if they don't exist
            if (!attendanceData[subject]) {
                attendanceData[subject] = {};
            }
            if (!attendanceData[subject][currentDate]) {
                attendanceData[subject][currentDate] = {};
            }

            // Set the new attendance status
            attendanceData[subject][currentDate][studentId] = parseInt(status);
            
            // Update attendance statistics
            updateAttendanceStats(subject);
        }

        function updateAttendanceStats(subject) {
            const currentDate = getCurrentDate();
            const statsDiv = document.getElementById('attendanceStats');
            
            // Count attendance statuses
            let presentCount = 0;
            let absentCount = 0;
            let excusedCount = 0;
            let notMarkedCount = students.length;
            
            if (attendanceData[subject] && attendanceData[subject][currentDate]) {
                const data = attendanceData[subject][currentDate];
                
                students.forEach(student => {
                    if (data[student.id] !== undefined) {
                        notMarkedCount--; // This student has been marked
                        
                        if (data[student.id] === 0) {
                            absentCount++;
                        } else if (data[student.id] === 1) {
                            excusedCount++;
                        } else if (data[student.id] === 2) {
                            presentCount++;
                        }
                    }
                });
            }
            
            // Create stats display
            statsDiv.innerHTML = `
                <div class="stat-item">
                    <div class="stat-value">${presentCount}</div>
                    <div class="stat-label">Có mặt</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${excusedCount}</div>
                    <div class="stat-label">Vắng có phép</div>
                     </div>
                <div class="stat-item">
                    <div class="stat-value">${absentCount}</div>
                    <div class="stat-label">Vắng mặt</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${notMarkedCount}</div>
                    <div class="stat-label">Chưa điểm danh</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${students.length}</div>
                    <div class="stat-label">Tổng số</div>
                </div>
            `;
        }

        // Function to auto mark all students with a specific status
        function autoAttendanceAll(status) {
            const subject = document.getElementById('subjectName').textContent.split(' - ')[0];
            const currentDate = getCurrentDate();
            
            // Mark all students with the specified status
            students.forEach(student => {
                markAttendance(subject, student.id, status);
                
                // Update the radio button selection
                const radioId = status === 0 ? `absent_${student.id}` : 
                              status === 1 ? `excused_${student.id}` : 
                              `present_${student.id}`;
                
                document.getElementById(radioId).checked = true;
            });
            
            // Update statistics
            updateAttendanceStats(subject);
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('attendanceModal');
            if (event.target == modal) {
                closeAttendanceModal();
            }
        }

        // Additional feature: Export attendance data
        function exportAttendanceData() {
            const exportData = {
                date: getCurrentDate(),
                data: attendanceData
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = window.URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.style.display = 'none';
            a.href = url;
            a.download = `attendance_${getCurrentDate()}.json`;
            
            document.body.appendChild(a);
            a.click();
            
            window.URL.revokeObjectURL(url);
        }

        // Show welcome message by default
        showWelcome();
       
        function submitMessage() {
    // Get form values (if needed)
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const phone = document.getElementById('phone').value;
    const message = document.getElementById('message').value;
    
    // Validate the form (optional)
    if (name && email && phone && message) {
        // Here you would typically send the data to a server
        
        // Show success alert
        alert('Gửi tin nhắn thành công!');
        
        // Reset the form
        document.getElementById('contactForm').reset();
    } else {
        // Optional: Show error for empty fields
        alert('Vui lòng điền đầy đủ thông tin!');
    }
}
  // Thêm hàm hiển thị About vào các script hiện có
  function showAbout() {
        document.querySelector('.welcome-message').style.display = 'none';
        document.querySelector('.timetable-container').style.display = 'none';
        document.querySelector('.contact-container').style.display = 'none';
        document.querySelector('.about-container').style.display = 'block';
    }
    
    // Cập nhật onclick event cho mục About trong sidebar
    document.addEventListener('DOMContentLoaded', function() {
        const aboutLink = document.querySelector('.sidebar ul li:nth-child(5) a');
        aboutLink.setAttribute('onclick', 'showAbout()');
    });
    function redirectToBetaAi() {
    // Close the attendance modal
    closeAttendanceModal();
    
    // Show the Beta AI section
    showBetaAi();
}
    </script>
   
</body>
</html>